---
export async function getStaticPaths() {
    const posts = await Astro.glob('../../content/posts/*.md');

    return posts.map((post) => {
      return {
        params: { slug: post.frontmatter.slug },
        props: { post },
      };
  });
}

import { Picture } from '@astrojs/image/components';
import Layout from '../../layouts/page.astro';

const { slug } = Astro.params;
const { post } = Astro.props;
---
<Layout content={post.frontmatter}>
  <div>

    <section class="w-full px-8 bg-white xl:px-0">
      <div class="flex flex-col max-w-3xl mx-auto">
        <Picture
            class="relative block h-72 overflow-hidden rounded transition duration-500 ease-out transform scale-100 group-hover:scale-105"
            src={"/images/" + post.frontmatter.image }
            alt={"Bild zu " + post.frontmatter.titel }
            sizes={"400, 800, 1200"}
            widths={[400, 800, 1200]}
            background={"#f3f4f6"}
            fit={"cover"}
            aspectRatio={3/1}
        />
        <h3
          class="
            text-3xl
            font-extrabold
            leading-none
            sm:text-4xl
            md:text-5xl
            leading-7
          "
        >
          { post.frontmatter.titel }
        </h3>
        <p
          class="
            mt-1
            mb-10
            text-sm
            font-medium
            text-gray-500
            uppercase
            xl:text-base
            xl:tracking-wider
            lg:mb-0
          "
        >
          Ver√∂ffentlicht am { new Date(post.frontmatter.published_at).toLocaleDateString('de-DE') }
        </p>
        <div class="my-2 border-b border-gray-300 lg:my-5"></div>
        <post.Content />
      </div>
    </section>
  </div>
</Layout>
