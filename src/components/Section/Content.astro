---
import SectionContentVideo from './Content/Video.astro'
import SectionContentBeitrag from './Content/Beitrag.astro'

const videos = await Astro.glob('../../content/videos/*.md');
const posts = await Astro.glob('../../content/posts/*.md');
---
  <section class="w-full py-8 bg-white sm:py-12 md:py-16 lg:px-16">
    <div class="px-10 mx-auto max-w-7xl">
        <div class="flex items-center justify-between w-full pb-5 mb-8 border-b border-gray-200">
            <h2 class="text-3xl font-bold text-gray-800">Videos</h2>
            <a href="https://www.youtube.com/@headofcontent6494" target="_blank" class="flex items-center text-base font-semibold text-blue-400 hover:text-blue-500 group">
                <span>Alle Videos</span>
                <svg class="w-4 h-4 mt-0.5 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </a>
        </div>

        <div id="current-videos" class="grid grid-cols-12 gap-6">
            {
                videos.slice(0, 3).map((video) => (
                    <SectionContentVideo tag={video.frontmatter.tag} title={video.frontmatter.title} thumbnail={video.frontmatter.thumbnail} href={video.frontmatter.yt_url} />
                ))
            }
        </div>

        <div class="flex items-center justify-between w-full pb-5 mt-16 mb-8 border-b border-gray-200">
            <h2 class="text-3xl font-bold text-gray-800">Aktuelles</h2>
            <a href="/aktuelles" href="#_" class="flex items-center text-base font-semibold text-blue-400 hover:text-blue-500 group">
                <span>Alle Beitr√§ge</span>
                <svg class="w-4 h-4 mt-0.5 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </a>
        </div>

        <div id="latest-posts" class="grid grid-cols-12 gap-6">
            {
                posts.sort((a,b) => { return b.frontmatter.published_at - a.frontmatter.published_at }).slice(0, 3).map((post) => {
                    return <SectionContentBeitrag title={post.frontmatter.titel} image={post.frontmatter.image} href={'/aktuelles/' + post.frontmatter.slug} />
                })
            }
        </div>

        <div class="flex items-center justify-center w-full pb-1 mt-4 mb-6">
            <h2 class="text-4xl font-bold text-gray-800">Head of Podcast</h2>
        </div>

        <iframe src="https://open.spotify.com/embed/show/3Hbhfz5FmpmhVqMZfRVEpi?utm_source=headofcontent.de" width="100%" height="232" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
    </div>
  </section>